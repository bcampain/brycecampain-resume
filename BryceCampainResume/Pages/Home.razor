@page "/"

<PageTitle>Bryce Campain - Information Technology Leader</PageTitle>
@inject IJSRuntime JS

<div class="fun-toggle">
    <span class="fun-label">FUN</span>
    <label class="fun-switch">
        <input type="checkbox" checked="@_funMode" @onchange="OnFunToggle" />
        <span class="fun-slider"></span>
    </label>
    @if (FunMode){
        <span><i class="fa-regular fa-face-laugh-beam fa-xl"></i></span>
    }
</div>

<div class="resume-page @(FunMode ? "fun-mode" : "")">
    <!-- Header -->
    <header class="resume-header">
        <div>
            <h1 class="resume-name">Bryce Campain</h1>
            <p class="resume-title">Information Technology Leader</p>
        </div>
        <div class="resume-contact">
            <div>Chicago, IL</div>
            <div><a href="tel:12148023717">214.802.3717</a></div>
            <div><a href="mailto:bryce@campain.me">bryce@campain.me</a></div>
        </div>
    </header>

    <!-- Summary -->
    <section class="resume-summary-card fun-card @CardCss(CardId.Summary)" @onclick="@OnSummaryClick">
        <p>
            Experienced in guiding engineering teams through complex platform modernization and large-scale customer migrations.
            Aligns technical execution with business priorities, cultivating collaborative team environments rooted in autonomy,
            shared accountability, and continuous improvement. Known for reducing system fragmentation, improving product reliability,
            and enabling teams to ship high-quality solutions efficiently and sustainably.
        </p>
    </section>

    <div class="resume-body-grid">
        <!-- Left column -->
        <section class="resume-section">
            <section class="resume-section skills-section">
                <h2 class="resume-section-title">Technical Skills</h2>

                <div class="experience-item fun-card @CardCss(CardId.Skills)" @onclick="@OnSkillsClick">
                    <div class="skills-group">
                        <h3>Languages &amp; Frameworks</h3>
                        <p>C#, .NET, JavaScript, VueJS, RiotJS, Node.js/NPM, HTML, XML, JSON</p>
                    </div>

                    <div class="skills-group">
                        <h3>Cloud &amp; DevOps</h3>
                        <p>Azure, Azure DevOps, Kubernetes, Git, Github, Subversion, Swagger (OpenAPI), Microservices, RESTful APIs</p>
                    </div>

                    <div class="skills-group">
                        <h3>Data &amp; Platforms</h3>
                        <p>SQL, Microsoft SQL Server, OpenSearch</p>
                    </div>

                    <div class="skills-group">
                        <h3>Tools &amp; Environments</h3>
                        <p>Visual Studio, VS Code, Windows, macOS, Microsoft Office</p>
                    </div>
                </div>
            </section>

            <section class="resume-section links-section">
                <h2 class="resume-section-title">Links</h2>
                <div class="experience-item fun-card @CardCss(CardId.Links)" @onclick="@OnLinksClick">
                    <a class="experience-link" href="https://github.com/bcampain" target="_blank" rel="noopener noreferrer">
                        <span class="experience-icon">
                            <i class="fa-brands fa-github fa-2xl"></i>
                        </span>
                        <div class="experience-text">
                            <span class="link-name">GitHub</span>
                            <span class="link-url">github.com/bcampain</span>
                        </div>
                    </a>
                    <a class="experience-link" href="https://www.linkedin.com/in/brycecampain/" target="_blank" rel="noopener noreferrer">
                        <span class="experience-icon">
                            <i class="fa-brands fa-linkedin fa-2xl"></i>
                        </span>
                        <div class="experience-text">
                            <span class="link-name">LinkedIn</span>
                            <span class="link-url">linkedin.com/in/brycecampain</span>
                        </div>
                    </a>
                </div>
            </section>

            <section class="resume-section education-section">
                <h2 class="resume-section-title">Education</h2>
                <div class="experience-item fun-card @CardCss(CardId.Education)" @onclick="@OnEducationClick">
                    <h3>Bachelor of Business Administration (BBA)</h3>
                    <div class="experience-sub-header">Management Information Systems</div>
                    <div class="experience-meta">
                        <span>University of Oklahoma</span>
                        <span>Norman, OK</span>
                    </div>
                    <div class="experience-dates">
                        August 2004 - May 2009
                    </div>
                </div>
            </section>

            <div class="resume-actions">
                <a href="/Bryce-Campain-Resume-Nov2025.pdf"
                class="download-resume-button @(FunMode ? "fun-button" : "")"
                download>
                    Download PDF Résumé
                </a>
            </div>
        </section>

        <!-- Right column -->
        <section class="resume-section">
            <h2 class="resume-section-title">Professional Experience</h2>

            <!-- Vistra -->
            <article class="experience-item fun-card @CardCss(CardId.Vistra)" @onclick="@OnVistraClick">
                <header class="experience-header">
                    <div>
                        <h3>Software Development Manager</h3>
                        <div class="experience-sub-header">Customer Information Services</div>
                        <div class="experience-meta">
                            <span>Vistra Corporation</span>
                            <span>Irving, TX</span>
                        </div>
                    </div>
                    <div class="experience-dates">
                        June 2017 - September 2025
                    </div>
                </header>
                <p class="experience-tagline">
                    Promoted from full-stack developer to development manager following Vistra's acquisition of Ambit Energy.
                    Led two agile development teams responsible for CRM platforms serving approximately 465,000 active customer accounts
                    across two production environments.
                </p>
                <ul class="experience-list">
                    <li>Led a team of 4 developers and 1 QA, providing coaching, career guidance, performance feedback, and technical direction.</li>
                    <li>Migrated 383,000 customer accounts from a legacy CRM to an in-house SAP solution, reducing system fragmentation and streamlining customer operations.</li>
                    <li>Oversaw migration of 85,000+ Midwest/Northeast market customer accounts to the next-generation CRM platform, consolidating brands into a unified technology foundation.</li>
                    <li>Delivered three full LandPower platform migrations in under one year, accelerating business unit alignment and reducing manual exception handling.</li>
                    <li>Implemented and enforced a scalable Git branching strategy to support a multi-repository submodule architecture, then refined standards with engineers post-rollout.</li>
                    <li>Expanded management scope to include a second development team, taking on new production applications while maintaining delivery commitments.</li>
                    <li>Led structured knowledge-transfer and transition planning during organizational restructuring, ensuring continuity and system stability as responsibilities moved offshore.</li>
                </ul>
            </article>

            <!-- ARGO -->
            <article class="experience-item fun-card @CardCss(CardId.Argo)" @onclick="@OnArgoClick">
                <header class="experience-header">
                    <div>
                        <h3>Application Development Lead</h3>
                        <div class="experience-meta">
                            <span>ARGO Data Resource Corp</span>
                            <span>Richardson, TX</span>
                        </div>
                    </div>
                    <div class="experience-dates">
                        June 2009 - May 2017
                    </div>
                </header>
                <p class="experience-tagline">
                    Promoted three times in five years, progressing from entry-level developer to development lead.
                </p>
                <ul class="experience-list">
                    <li>Led 2-5 person development teams through the full SDLC for multiple production implementations.</li>
                    <li>Taught and mentored developers in ARGO's proprietary programming language and internal tooling.</li>
                    <li>Designed and delivered a Virtual Te found itller Kiosk solution adopted by Regions Bank.</li>
                    <li>Maintained a defect first-time resolution rate exceeding company benchmarks.</li>
                    <li>Established structured code review and peer testing practices on the Regions Teller team to improve quality and shared accountability.</li>
                </ul>
            </article>
        </section>
    </div>
</div>

@code
{
    private static readonly FunAnimationConfig DefaultConfig = new() {
        PopDuration = 320,
        RespawnDelay = 1000,
        RespawnDuration = 3000
    };

    private FunAnimationConfig _config = DefaultConfig;
    private bool _funMode;
    private bool FunMode => _funMode;

    private enum CardId {
        Summary,
        Skills,
        Links,
        Education,
        Vistra,
        Argo
    }
    private enum CardState {
        Normal,
        Popped,
        Respawning
    }

    private readonly Dictionary<CardId, CardState> _cardStates = new();

    private string CardCss(CardId id) {
        if (!FunMode) 
            return string.Empty;

        _cardStates.TryGetValue(id, out var state);

        return state switch {
            CardState.Popped     => "fun-card--popped",
            CardState.Respawning => "fun-card--respawning",
            _                    => "fun-card--active"
        };
    }

    private Task OnSummaryClick() => OnCardClick(CardId.Summary);
    private Task OnSkillsClick() => OnCardClick(CardId.Skills);
    private Task OnLinksClick() => OnCardClick(CardId.Links);
    private Task OnEducationClick() => OnCardClick(CardId.Education);
    private Task OnVistraClick() => OnCardClick(CardId.Vistra);
    private Task OnArgoClick() => OnCardClick(CardId.Argo);

    private async Task OnFunToggle(ChangeEventArgs e) {
        var newValue = e?.Value is bool b && b;
        if (newValue == _funMode)
            return;

        _funMode = newValue;

        if (!_funMode)
        {
            _cardStates.Clear();
            _config = DefaultConfig;
            try
            {
                await JS.InvokeVoidAsync("funConfigLoader.reset");
            }
            catch (Exception ex)
            {
                Console.Error.WriteLine($"Fun config reset failed: {ex.Message}");
            }
        }
        else
        {
            await LoadConfigAsync();
        }

        StateHasChanged();
    }

    private async Task OnCardClick(CardId id) {
        if (!FunMode) return;

        _cardStates.TryGetValue(id, out var current);
        if (current == CardState.Popped || current == CardState.Respawning)
            return; //ignore additional clicks while animating

        _cardStates[id] = CardState.Popped;
        StateHasChanged();

        var popDurationMs = _config.PopDuration;
        var respawnDelayMs = _config.RespawnDelay; // Time before reappearing
        var respawnDuration = _config.RespawnDuration;

        //Wait until it's time to respawn
        await Task.Delay(popDurationMs + respawnDelayMs);

        _cardStates[id] = CardState.Respawning;
        StateHasChanged();

        await Task.Delay(respawnDuration);

        _cardStates[id] = CardState.Normal;
        StateHasChanged();
    }

    private async Task LoadConfigAsync() {
        try {
            var cfg = await JS.InvokeAsync<FunAnimationConfig>("funConfigLoader.loadConfig");
            if (cfg is not null)
                _config = MergeWithDefaults(cfg);
            else
                _config = DefaultConfig;
        }
        catch {
            _config = DefaultConfig;
        }
    }

    private static FunAnimationConfig MergeWithDefaults(FunAnimationConfig cfg) => new() {
        PopDuration = cfg.PopDuration > 0 ? cfg.PopDuration : DefaultConfig.PopDuration,
        RespawnDelay = cfg.RespawnDelay > 0 ? cfg.RespawnDelay : DefaultConfig.RespawnDelay,
        RespawnDuration = cfg.RespawnDuration > 0 ? cfg.RespawnDuration : DefaultConfig.RespawnDuration
    };

    private class FunAnimationConfig {
        public int PopDuration { get; set; }
        public int RespawnDelay { get; set; }
        public int RespawnDuration { get; set; }
    }
}
